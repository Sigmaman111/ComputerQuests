<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Auth Demo</title>
  <style>
    :root{--bg:#0f1724;--card:#111827;--accent:#0ea5a4;--muted:#9ca3af;--text:#e6eef6}
    *{box-sizing:border-box;font-family:Inter,Segoe UI,system-ui,Helvetica,Arial,sans-serif}
    body{margin:0;background:linear-gradient(135deg,#071024,#0B1530);color:var(--text);display:flex;align-items:center;justify-content:center;height:100vh;padding:24px}
    .card{width:100%;max-width:420px;background:rgba(255,255,255,0.02);border-radius:12px;padding:22px;border:1px solid rgba(255,255,255,0.04)}
    label{display:block;margin-top:12px;font-size:12px;color:var(--muted)}
    input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:#fff}
    button{padding:10px;border-radius:8px;border:0;cursor:pointer;font-weight:600}
    #sign-in{background:var(--accent);color:#022;width:100%}
    #sign-up{background:transparent;border:1px solid rgba(255,255,255,0.2);color:#fff;width:100%;margin-top:8px}
    #google-signin{margin-top:16px;background:#fff;color:#222;width:100%}
    .hidden{display:none}
    .small{font-size:12px;color:var(--muted);margin-top:10px}
  </style>
</head>
<body>

  <main class="card">
    <h2>Sign In / Sign Up</h2>

    <div id="auth-forms">
      <label>Email</label>
      <input id="email" type="email" placeholder="you@gmail.com">

      <label>Password</label>
      <input id="password" type="password" placeholder="password">

      <button id="sign-in">Sign in</button>
      <button id="sign-up">Sign up</button>

      <button id="google-signin">Sign in with Google</button>

      <div id="error" class="small"></div>
    </div>

    <div id="user-panel" class="hidden">
      <p><strong id="user-name"></strong></p>
      <p class="small" id="user-email"></p>
      <p class="small" id="user-uid"></p>

      <button id="sign-out" style="margin-top:12px;background:#444;color:#fff;width:100%">Sign out</button>
    </div>
  </main>

  <!-- Firebase CDN (Compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>

  <script>
    // Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDcxP-6xcgnSdT9sYY7bPeDY35669uiUic",
      authDomain: "computerquests.firebaseapp.com",
      projectId: "computerquests",
      storageBucket: "computerquests.firebasestorage.app",
      messagingSenderId: "275383359296",
      appId: "1:275383359296:web:1c132d91051820bbbe0ca5",
      measurementId: "G-51QJTZFDY6"
    };

    // Initialise Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const emailEl = document.getElementById("email");
    const passEl = document.getElementById("password");
    const errorEl = document.getElementById("error");

    const authForms = document.getElementById("auth-forms");
    const userPanel = document.getElementById("user-panel");

    const userName = document.getElementById("user-name");
    const userEmail = document.getElementById("user-email");
    const userUid = document.getElementById("user-uid");

    document.getElementById("sign-up").onclick = async () => {
      errorEl.textContent = "";
      try {
        await auth.createUserWithEmailAndPassword(emailEl.value, passEl.value);
      } catch (e) {
        errorEl.textContent = e.message;
      }
    };

    document.getElementById("sign-in").onclick = async () => {
      errorEl.textContent = "";
      try {
        await auth.signInWithEmailAndPassword(emailEl.value, passEl.value);
      } catch (e) {
        errorEl.textContent = e.message;
      }
    };

    document.getElementById("google-signin").onclick = async () => {
      const provider = new firebase.auth.GoogleAuthProvider();
      try {
        await auth.signInWithPopup(provider);
      } catch (e) {
        errorEl.textContent = e.message;
      }
    };

    document.getElementById("sign-out").onclick = () => auth.signOut();

    auth.onAuthStateChanged(user => {
      if (user) {
        authForms.classList.add("hidden");
        userPanel.classList.remove("hidden");
        userName.textContent = user.displayName || "User";
        userEmail.textContent = user.email;
        userUid.textContent = "UID: " + user.uid;
      } else {
        authForms.classList.remove("hidden");
        userPanel.classList.add("hidden");
      }
    });
  </script>

</body>
</html>
